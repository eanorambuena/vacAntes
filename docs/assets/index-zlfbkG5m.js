(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function a(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(t){if(t.ep)return;t.ep=!0;const e=a(t);fetch(t.href,e)}})();document.addEventListener("DOMContentLoaded",()=>{const c="https://vacantes-api.vercel.app",n=document.getElementById("cursos-list");async function a(){try{const e=await fetch(`${c}/cursos`);if(!e.ok)throw new Error("Error al obtener los cursos");const r=await e.json();console.log(r),s(r)}catch(e){console.error(e)}}async function s(e){if(e.sort((r,o)=>r.sigla.localeCompare(o.sigla)),!n)throw new Error("Elemento cursos-list no encontrado");n.innerHTML="";for(const r of e){const o=document.createElement("li");o.textContent=`${r.sigla}`;const i=await t(r.nrc);o.textContent=`${r.sigla} - Vacantes: ${i}`,n.appendChild(o)}}async function t(e){try{const r=await fetch(`${c}/cursos/${e}`);if(!r.ok)throw new Error(`Error al obtener vacantes para NRC: ${e}`);const o=await r.json();return console.log(o),o?o.vacantes.total_disponibles:"No disponible"}catch(r){return console.error(r),"Error al obtener vacantes"}}a()});
